<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Guess the Number â€” Gemini Canvas Project</title>
  <style>
    :root{
      --bg:#0f172a;
      --card:#111827;
      --muted:#94a3b8;
      --accent:#22c55e;
      --danger:#ef4444;
      --info:#3b82f6;
      --text:#e5e7eb;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background: radial-gradient(1200px 600px at 20% -20%, #1f2937, transparent),
                  radial-gradient(1000px 600px at 120% 0%, #1e293b, transparent),
                  var(--bg);
      min-height:100dvh;
      display:grid;
      place-items:center;
      padding:24px;
    }
    .card{
      width:min(720px, 96vw);
      background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
      backdrop-filter: blur(6px);
      border:1px solid rgba(255,255,255,0.08);
      border-radius:18px;
      padding:24px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.4);
    }
    h1{margin:0 0 8px;font-size:clamp(20px, 2.4vw + 12px, 32px)}
    p.sub{margin-top:0;color:var(--muted)}
    .row{display:flex; gap:12px; flex-wrap:wrap}
    label{font-size:14px; color:var(--muted)}
    input[type="text"], input[type="number"]{
      width:100%;
      appearance: textfield;
      background:#0b1220;
      color:var(--text);
      border:1px solid rgba(255,255,255,0.14);
      padding:12px 14px;
      border-radius:12px;
      outline: none;
    }
    .grid{display:grid; grid-template-columns:1fr 1fr; gap:12px}
    .btn{
      border:0;
      background:linear-gradient(90deg, #10b981, #22c55e);
      color:#07120f;
      font-weight:700;
      padding:12px 16px;
      border-radius:12px;
      cursor:pointer;
      transition: transform .06s ease, box-shadow .2s ease, opacity .2s ease;
      box-shadow: 0 10px 20px rgba(34,197,94,.25);
    }
    .btn.secondary{
      background:linear-gradient(90deg, #3b82f6, #60a5fa);
      color:#061224;
      box-shadow: 0 10px 20px rgba(59,130,246,.25);
    }
    .btn.ghost{
      background:transparent;
      color:var(--muted);
      border:1px dashed rgba(255,255,255,.2);
      box-shadow:none;
    }
    .btn:active{ transform: translateY(1px) }
    .section{margin-top:18px; padding-top:14px; border-top:1px dashed rgba(255,255,255,.12)}
    .status{
      margin-top:8px;
      padding:12px;
      border-radius:12px;
      background:#0b1220;
      border:1px solid rgba(255,255,255,0.06);
      min-height:56px;
      display:flex; align-items:center;
    }
    .status.ok{ border-color: rgba(34,197,94,.35) }
    .status.low{ border-color: rgba(59,130,246,.35) }
    .status.high{ border-color: rgba(239,68,68,.35) }
    .muted{color:var(--muted)}
    .counter{font-weight:700}
    .hint{font-size:14px;color:var(--muted)}
    .hidden{display:none !important}
    footer{margin-top:14px;color:var(--muted);font-size:12px;text-align:center}
  </style>
</head>
<body>
  <main class="card">
    <h1>ðŸŽ¯ Guess the Number</h1>
    <p class="sub">A simple game where you try to guess a secret number. Built by guiding an AI!</p>

    <!-- START SCREEN -->
    <section id="setup">
      <div class="grid">
        <div>
          <label for="playerName">Your name</label>
          <input id="playerName" type="text" placeholder="e.g., Carmen" autocomplete="off"/>
        </div>
        <div>
          <label for="maxNumber">Max number (min 10)</label>
          <input id="maxNumber" type="number" min="10" step="1" placeholder="100"/>
        </div>
      </div>
      <div class="section row">
        <button id="startBtn" class="btn">Start Game</button>
        <button id="fillDemo" class="btn ghost" title="Quick fill demo data">Use Demo Values</button>
      </div>
      <p class="hint">We'll pick a secret number between 1 and your chosen max number.</p>
    </section>

    <!-- GAME SCREEN -->
    <section id="game" class="hidden" aria-live="polite">
      <p><span class="muted">Player:</span> <strong id="playerLabel"></strong></p>
      <p class="hint">I'm thinking of a number between 1 and <span id="rangeLabel">100</span>. Take a guess!</p>

      <div class="row">
        <input id="guessInput" type="number" inputmode="numeric" placeholder="Enter your guessâ€¦" />
        <button id="guessBtn" class="btn secondary">Submit Guess</button>
      </div>

      <div class="section">
        <div id="status" class="status"><span class="muted">Waiting for your first guessâ€¦</span></div>
        <p class="hint">
          Attempts: <span id="attempts" class="counter">0</span>
          <span id="encouragement" class="muted"></span>
        </p>
      </div>

      <div class="section row">
        <button id="playAgainBtn" class="btn hidden">Play Again</button>
        <button id="changeSettingsBtn" class="btn ghost hidden">Change Name / Max</button>
      </div>
    </section>

    <footer>Tip: Press Enter to submit your guess.</footer>
  </main>

  <script>
    // Elements
    const setup = document.getElementById('setup');
    const game = document.getElementById('game');
    const playerInput = document.getElementById('playerName');
    const maxInput = document.getElementById('maxNumber');
    const startBtn = document.getElementById('startBtn');
    const fillDemo = document.getElementById('fillDemo');

    const playerLabel = document.getElementById('playerLabel');
    const rangeLabel = document.getElementById('rangeLabel');
    const guessInput = document.getElementById('guessInput');
    const guessBtn = document.getElementById('guessBtn');
    const statusBox = document.getElementById('status');
    const attemptsEl = document.getElementById('attempts');
    const encouragementEl = document.getElementById('encouragement');
    const playAgainBtn = document.getElementById('playAgainBtn');
    const changeSettingsBtn = document.getElementById('changeSettingsBtn');

    // Game state
    let secret = 0;
    let maxNum = 100;
    let attempts = 0;
    let finished = false;

    function setStatus(text, type){
      statusBox.className = 'status'; // reset
      if(type){ statusBox.classList.add(type); }
      statusBox.textContent = text;
    }

    function randomInt(min, max){
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    function startGame(){
      const name = (playerInput.value || '').trim();
      const rawMax = maxInput.value.trim();
      const chosenMax = Number(rawMax);

      if(!name){
        alert('Please enter your name.'); return;
      }
      if(!rawMax || !Number.isInteger(chosenMax)){
        alert('Please enter a whole number for "Max number".'); return;
      }
      if(chosenMax < 10){
        alert('Max number must be at least 10.'); return;
      }

      playerLabel.textContent = name;
      maxNum = chosenMax;
      rangeLabel.textContent = String(maxNum);
      secret = randomInt(1, maxNum);
      attempts = 0;
      finished = false;

      attemptsEl.textContent = attempts;
      encouragementEl.textContent = '';
      setStatus('Game started! Make your first guess.', null);

      setup.classList.add('hidden');
      game.classList.remove('hidden');
      guessInput.value = '';
      guessInput.min = 1;
      guessInput.max = maxNum;
      guessInput.focus();
      playAgainBtn.classList.add('hidden');
      changeSettingsBtn.classList.add('hidden');
      guessInput.disabled = false;
      guessBtn.disabled = false;
    }

    function handleGuess(){
      if(finished) return;

      const val = guessInput.value.trim();
      if(val === ''){ alert('Enter a number to guess.'); return; }
      const guess = Number(val);

      if(!Number.isInteger(guess)){
        alert('Please enter a whole number (no decimals).');
        guessInput.value = '';
        guessInput.focus();
        return;
      }
      if(guess < 1 || guess > maxNum){
        alert('Your guess must be between 1 and ' + maxNum + '.');
        guessInput.select();
        return;
      }

      attempts += 1;
      attemptsEl.textContent = attempts;

      if(attempts === 7){
        encouragementEl.textContent = ' â€¢ Keep going, you\'re getting closer!';
      } else if(attempts === 10){
        encouragementEl.textContent = ' â€¢ Pro tip: Try narrowing the range by halves.';
      }

      if(guess === secret){
        finished = true;
        setStatus(`ðŸŽ‰ Correct! The number was ${secret}. Great job, ${playerLabel.textContent}! You won in ${attempts} attempt${attempts===1?'':'s'}.`, 'ok');
        guessInput.disabled = true;
        guessBtn.disabled = true;
        playAgainBtn.classList.remove('hidden');
        changeSettingsBtn.classList.remove('hidden');
      } else if(guess < secret){
        setStatus('Too low! Try again.', 'low');
      } else {
        setStatus('Too high! Try again.', 'high');
      }

      guessInput.value = '';
      guessInput.focus();
    }

    function resetToSetup(){
      setup.classList.remove('hidden');
      game.classList.add('hidden');
      playerInput.focus();
    }

    function playAgain(){
      secret = randomInt(1, maxNum);
      attempts = 0;
      finished = false;

      attemptsEl.textContent = attempts;
      encouragementEl.textContent = '';
      setStatus('New round! Make your first guess.', null);

      guessInput.disabled = false;
      guessBtn.disabled = false;
      guessInput.value = '';
      guessInput.focus();
      playAgainBtn.classList.add('hidden');
      changeSettingsBtn.classList.add('hidden');
    }

    // Events
    startBtn.addEventListener('click', startGame);
    fillDemo.addEventListener('click', () => {
      playerInput.value = 'Player One';
      maxInput.value = '100';
      playerInput.focus();
    });
    guessBtn.addEventListener('click', handleGuess);
    guessInput.addEventListener('keydown', (e)=>{ if(e.key === 'Enter'){ handleGuess(); }});
    playAgainBtn.addEventListener('click', playAgain);
    changeSettingsBtn.addEventListener('click', resetToSetup);
  </script>
</body>
</html>
